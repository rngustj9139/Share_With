<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .field-error {
            border-color: #dc3545;
            color: #dc3545;
        }

        .register-social {
            text-decoration: none;
        }
    </style>
    <meta
            name="description"
            content="더도 말고 덜도 말고 딱 1인분만 필요한 1인 가구에게 쓸데없는 지출 비용을 절약할 수 있도록 동네 사람들과 아주 소소한 물건들을 같이 구매하여 소분할 수 있는 커뮤니티"
    />
    <meta
            name="keywords"
            content="소분,공동구매"
    />
    <meta
            name="og:site_name"
            content="#소분해요"
    />
    <meta
            name="og:title"
            content="로그인"
    />
    <meta
            name="og:description"
            content="더도 말고 덜도 말고 딱 1인분만 필요한 1인 가구에게 쓸데없는 지출 비용을 절약할 수 있도록 동네 사람들과 아주 소소한 물건들을 같이 구매하여 소분할 수 있는 커뮤니티"
    />
    <meta
            name="og:type"
            content="website"
    />
    <meta
            name="og:url"
            content="https://share_with.com"
    />
    <meta
            name="og:image"
            content="/assets/thumbnail.png"
    />
    <meta
            name="twitter:title"
            content="#소분해요"
    />

    <title>#소분해요</title>

    <script defer src="https://cdn.swygbro.com/public/widget/swyg-widget.js"></script>

</head>
<body>
<div th:if="${email}">
    <script th:inline="javascript">
        var message1= "가입하신 이메일로 인증메일을 발송 했습니다. 메일함을 확인해주세요!";
        alert(message1);
    </script>
</div>

<div th:if="${param.after2xx}">
    <script th:inline="javascript">
        var message2= "가입하신 이메일로 임시비밀번호를 발송 했습니다. 메일함을 확인해주세요!";
        alert(message2);
    </script>
</div>

<div th:if="${loginFail}">
    <script th:inline="javascript">
        var message3= "이메일 또는 비밀번호가 일치하지 않습니다.";
        alert(message3);
    </script>
</div>

<div class="container">
    <div class="title" th:onclick="|location.href='@{/}'|" style="cursor: pointer">
        <p>#소분해요</p>
    </div>
    <form th:action th:object="${loginRequestDto}" method="post">
        <div class="email" style="margin-top: 80px;">
            <span class="validation">
                <p><b>*</b>이메일</p>
                <div class="validation-right">
                    <div class="field-error" th:errors="*{email}" />
                </div>
            </span>
            <input type="email" id="email" th:field="*{email}" th:errorclass="field-error" placeholder="이메일을 입력해주세요">
        </div>
        <div class="pswd">
            <span class="validation">
                <p><b>*</b>비밀번호</p>
                <div class="validation-right">
                    <div class="field-error" th:errors="*{password}" />
                </div>
            </span>
            <input type="password" id="password" th:field="*{password}" th:errorclass="field-error" placeholder="비밀번호를 입력해주세요">
        </div>
        <div class="join-btn">
            <button type="submit">로그인</button>
        </div>
    </form>
    <div>
        <button class="find-pswd" th:onclick="|location.href='@{/find/password}'|">비밀번호 찾기</button>
    </div>
    <div>
        <div class="line">다른 계정으로 로그인</div>
    </div>
    <div class="other-join">
        <div>
            <a href="/oauth2/authorization/google" class="register-social">
                <img class="register-img" src="/assets/google.png">
                <p>구글로 로그인</p>
            </a>
        </div>
        <div>
            <a href="/oauth2/authorization/facebook" class="register-social">
                <img class="register-img" src="/assets/facebook.png">
                <p>페이스북으로 로그인</p>
            </a>
        </div>
    </div>
    <div class="already-join">
        <p>아직 회원이 아니시라면?</p>
        <button th:onclick="|location.href='@{/register/member}'|">회원가입</button>
    </div>
</div>
</body>
</html>